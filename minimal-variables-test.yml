# Modified from: https://developercommunity.visualstudio.com/content/problem/1151302/inconsistent-behavior-between-variablessecuredVar-a.html

variables:
  securedVar_Mapped:  $[variables.securedVar]
  publicVar_Mapped:  $[variables.publicVar]
  unsetVar_Mapped:  $[variables.unsetVar]

steps:
- script: |
    echo "SECUREDVAR is: $SECUREDVAR"
    test "$SECUREDVAR" && echo "truthy" || echo "falsy"

    echo "securedVar is: $securedVar"
    test "$securedVar" && echo "truthy" || echo "falsy"

    echo
    echo "PUBLICVAR is: $PUBLICVAR"
    test "$PUBLICVAR" && echo "truthy" || echo "falsy"

    echo "publicVar is: $publicVar"
    test "$publicVar" && echo "truthy" || echo "falsy"

    echo
    echo "UNSETVAR is: $UNSETVAR"
    test "$UNSETVAR" && echo "truthy" || echo "falsy"

    echo "unsetVar is: $unsetVar"
    test "$unsetVar" && echo "truthy" || echo "falsy"

  env:
    securedVar: $(securedVar_Mapped)
    publicVar: $(publicVar_Mapped)
    unsetVar: $(unsetVar_Mapped)
    
